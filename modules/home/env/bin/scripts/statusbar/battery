#!/usr/bin/env bash
# acpi alternative
# acpi | sed "s/Battery [0-9]: //;s/[Dd]ischarging, /ğŸ”‹/;s/[Nn]ot charging, /ğŸ›‘/;s/[Cc]harging, /ğŸ”Œ/;s/[Uu]nknown, /â™»ï¸/;s/[Ff]ull, /âš¡/;s/ \(remaining\|until charged\)//"; exit 
#ï‡¦ î®µ

battery_path=$(find /sys/class/power_supply/ -name "BAT*" | head -n 1)

capacity=$(cat "${battery_path}/capacity")
status=$(cat "${battery_path}/status")
if [ "${status}" = "Discharging" ]
then
    case $capacity in
        [0-9]) echo "#[fg=#ff2640]ó°‚ƒ ${capacity}%" ;;
        1[0-9]) echo "#[fg=#ff2640]ï•¹ ${capacity}%" ;;
        2[0-9]) echo "#[fg=#f4bf75]ï•º ${capacity}%" ;;
        3[0-9]) echo "#[fg=#f4bf75]ï•» ${capacity}%" ;;
        4[0-9]) echo "#[fg=#f4bf75]ï•¼ ${capacity}%" ;;
        5[0-9]) echo "#[fg=#9ece6a]ï•½ ${capacity}%" ;;
        6[0-9]) echo "#[fg=#9ece6a]ï•¾ ${capacity}%" ;;
        7[0-9]) echo "#[fg=#9ece6a]ï•¿ ${capacity}%" ;;
        8[0-9]) echo "#[fg=#9ece6a]ï–€ ${capacity}%" ;;
        9[0-9]|10[0-9]) echo "#[fg=#9ece6a] ï•¸" ;;
    esac
elif [ "${status}" = "Charging" ]
then 
    case $capacity in
        [0-9]|1[0-9]) echo "#[fg=#ff2640]ï–ƒ ${capacity}%" ;;
        2[0-9]|3[0-9]) echo "#[fg=#f4bf75]ï–ƒ ${capacity}%" ;;
        4[0-9]|5[0-9]) echo "#[fg=#f4bf75]ï–ƒ ${capacity}%" ;;
        6[0-9]|7[0-9]) echo "#[fg=#9ece6a]ï–ƒ ${capacity}%" ;;
        8[0-9]|9[0-9]) echo "#[fg=#9ece6a]ï–ƒ ${capacity}%" ;;
        10[0-9]) echo "#[fg=#9ece6a,bold]ï–ƒ ${capacity}%" ;;
    esac
elif [ "${status}" = "Full" ]
then
    printf "#[fg=#9ece6a,bold]ï•¸"
else
    printf "ï–"
fi
